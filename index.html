<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Menú Fijo con Submenús</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- Menú lateral -->
<div class="menu">
  <h2>Menú</h2>
  <ul>

    <li class="con-submenu">
<a href="#" onclick="toggleSubmenu(event, 'submenu0')">Usuarios </a>
      <ul class="submenu" id="submenu0">
        <li><a href="#" onclick="mostrarSeccion('subseccion0a')">Perfiles</a></li>
        <li><a href="#" onclick="mostrarSeccion('subseccion0b')">Trabajadores</a></li>
        <li><a href="#" onclick="mostrarSeccion('subseccion0c')">Tablas</a></li>
      </ul>
    </li>

<li class="con-submenu">
      <a href="#" onclick="toggleSubmenu(event, 'submenu1')">Control </a>
      <ul class="submenu" id="submenu1">
        <li><a href="#" onclick="mostrarSeccion('subseccion1a')">Ingresos</a></li>
        <li><a href="#" onclick="mostrarSeccion('subseccion1b')">Egresos</a></li>
        <li><a href="#" onclick="mostrarSeccion('subseccion1c')">Nominas</a></li>
        <li><a href="#" onclick="mostrarSeccion('subseccion1d')">Ganado</a></li>
      </ul>
    </li>
    <li class="con-submenu">
      <a href="#" onclick="toggleSubmenu(event, 'submenu2')">Informes </a>
      <ul class="submenu" id="submenu2">
        <li><a href="#" onclick="mostrarSeccion('subseccion2a')">Reporte mensual</a></li>
        <li><a href="#" onclick="mostrarSeccion('subseccion2b')">Reporte Acumulado</a></li>
        <li><a href="#" onclick="mostrarSeccion('subseccion2c')">Reporte Integral</a></li>
      </ul>
    </li>
     <li class="con-submenu">
      <a href="#" onclick="toggleSubmenu(event, 'submenu3')">Saldos </a>
      <ul class="submenu" id="submenu3">
        <li><a href="#" onclick="mostrarSeccion('subseccion3a')">PYME</a></li>
        <li><a href="#" onclick="mostrarSeccion('subseccion3b')">Libreton</a></li>
        <li><a href="#" onclick="mostrarSeccion('subseccion3c')">Caja Chica</a></li>
        <li><a href="#" onclick="mostrarSeccion('subseccion3d')">Caja Grande</a></li>
      </ul>
    </li>
  </ul>
</div>

<!-- Contenido -->
<div class="contenido">
  <div id="seccion0" class="seccion activa">
    <h3>Inicio</h3>
    <p>BIENVENIDO(A)</p>
  </div>
  <div id="subseccion0a" class="seccion">
    <h3>Trabajadores</h3>
    <p>Contenido de la opción 2.</p>
  </div>  
 
  <div id="subseccion0c" class="seccion">
    <h3>Tablas</h3>
    <p>Contenido de la opción 2.</p>
  </div>
  <div id="subseccion1a" class="seccion">
    <h3>Ingresos</h3>
    <p>Contenido de la opción 2.</p>
  </div>
  <div id="subseccion1b" class="seccion">
    <h3>Egresos</h3>
    <p>Contenido de la subopción 3A.</p>
  </div>
  <div id="subseccion1c" class="seccion">
    <h3>Nominas</h3>
    <p>Contenido de la subopción 3B.</p>
  </div>
  <div id="subseccion1d" class="seccion">
    <h3>Ganado</h3>
    <p>Contenido de la opción 4.</p>
  </div>
  <div id="subseccion2a" class="seccion">
    <h3>Reporte Mensual</h3>
    <p>Contenido de la subopción 5A.</p>
  </div>
  <div id="subseccion2b" class="seccion">
    <h3>Reporte Acumulado</h3>
    <p>Contenido de la subopción 5B.</p>
  </div>
  <div id="subseccion2c" class="seccion">
    <h3>Reporte Integral</h3>
    <p>Contenido de la subopción 5B.</p>
  </div>
  <div id="subseccion3a" class="seccion">
    <h3>PYME</h3>
    <p>Contenido de la subopción 5B.</p>
  </div>
  <div id="subseccion3b" class="seccion">
    <h3>Libreton</h3>
    <p>Contenido de la subopción 5B.</p>
  </div>
  <div id="subseccion3c" class="seccion">
    <h3>Caja Chica</h3>
    <p>Contenido de la subopción 5B.</p>
  </div>
  <div id="subseccion3d" class="seccion">
    <h3>Caja Grande</h3>
    <p>Contenido de la subopción 5B.</p>
  </div>
</div>

<div id="subseccion0b" class="seccion">
<h2>Gestión de Usuarios</h2>
<!-- Botón para agregar nuevo usuario -->
<button class="btn" onclick="mostrarModal()">Agregar Nuevo Usuario</button>
<!-- Tabla de usuarios -->
<table id="tablaUsuarios">
  <thead>
    <tr>
      <th>ID</th>
      <th>Nombre</th>
      <th>Contraseña</th>
      <th>Cargo</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <!-- Aquí se agregarán los usuarios dinámicamente -->
  </tbody>
</table>
<!-- Ventana flotante para agregar/editar usuario -->
<div id="modal" class="modal">
  <div class="modal-content">
    <h3>Nuevo Usuario</h3>
    <form id="formUsuario">
      <label>ID:</label>
      <input type="number" id="id" readonly />

      <label>Nombre(s):</label>
      <input type="text" id="nombre" required />

      <label>Apellido Paterno:</label>
      <input type="text" id="apellidoPaterno" required />

      <label>Apellido Materno:</label>
      <input type="text" id="apellidoMaterno" required />

      <label>Contraseña:</label>
      <input type="password" id="contrasena" required />

      <label>CURP:</label>
      <input type="text" id="curp" required />

      <label>RFC:</label>
      <input type="text" id="rfc" required />

      <label>Calle:</label>
      <input type="text" id="calle" required />

      <label>Colonia:</label>
      <input type="text" id="colonia" required />

      <label>No. Ext.:</label>
      <input type="text" id="noExt" required />

      <label>No. Int.:</label>
      <input type="text" id="noInt" />

      <label>Código Postal:</label>
      <input type="text" id="codigoPostal" required />

      <label>Localidad:</label>
      <input type="text" id="localidad" required />

      <label>Municipio:</label>
      <input type="text" id="municipio" required />

      <label>Estado:</label>
      <input type="text" id="estado" required />

      <label>E-mail:</label>
      <input type="email" id="email" required />

      <label>Grupo (año desde el que trabaja):</label>
      <input type="number" id="grupo" required />

      <label>Sucursal:</label>
      <input type="text" id="sucursal" required />

      <label>Salario Diario Cuotas y Aportaciones:</label>
      <input type="number" id="salario" required />

      <label>Tipo de Contrato:</label>
      <input type="text" id="tipoContrato" required />

      <label>Régimen de Contratación:</label>
      <input type="text" id="regimen" required />

      <label>Tipo de Jornada:</label>
      <input type="text" id="tipoJornada" required />

      <label>Banco:</label>
      <input type="text" id="banco" required />

      <label>CLABE:</label>
      <input type="text" id="clabe" required />

      <label>Periodicidad de Pago:</label>
      <input type="text" id="periodicidadPago" required />

      <label>Departamento:</label>
      <input type="text" id="departamento" required />

      <label>Puesto:</label>
      <input type="text" id="puesto" required />

      <!-- Botón para guardar -->
      <button type="button" class="btn" onclick="guardarUsuario()">Guardar</button>
      <button type="button" class="btn close-btn" onclick="cerrarModal()">Cancelar</button>
    </form>
  </div>
</div>


</div>

<script>
  function mostrarSeccion(id) {
  // Oculta todas las secciones
  document.querySelectorAll('.seccion').forEach(seccion =>
    seccion.classList.remove('activa')
  );

  // Muestra la sección seleccionada
  document.getElementById(id).classList.add('activa');

  // Quita la clase 'activo' de todas las opciones del menú
  document.querySelectorAll('.menu ul li a').forEach(link =>
    link.classList.remove('activo')
  );

  // Añade la clase 'activo' a la opción seleccionada
  event.target.classList.add('activo');
}

function toggleSubmenu(event, submenuId) {
  event.preventDefault();

  const submenu = document.getElementById(submenuId);
  const parent = submenu.parentElement;

  // Abre o cierra solo el submenú seleccionado
  parent.classList.toggle('open');
}




let usuarios = [];
let usuarioEditando = null;
let ultimoId = 0;

function mostrarModal() {
  document.getElementById('modal').style.display = 'flex';
  
  // Generar ID automático solo si es un nuevo registro
  if (usuarioEditando === null) {
    ultimoId++;
    document.getElementById('id').value = ultimoId;
  }
}

function cerrarModal() {
  document.getElementById('modal').style.display = 'none';
  document.getElementById('formUsuario').reset();
  usuarioEditando = null;
}

function guardarUsuario() {
  const nuevoUsuario = {
  id: document.getElementById('id').value,
  nombre: document.getElementById('nombre').value,
  contrasena: document.getElementById('contrasena').value, // Capturar contraseña
  apellidoPaterno: document.getElementById('apellidoPaterno').value,
  apellidoMaterno: document.getElementById('apellidoMaterno').value,
  curp: document.getElementById('curp').value,
  rfc: document.getElementById('rfc').value,
  calle: document.getElementById('calle').value,
  colonia: document.getElementById('colonia').value,
  noExt: document.getElementById('noExt').value,
  noInt: document.getElementById('noInt').value,
  codigoPostal: document.getElementById('codigoPostal').value,
  localidad: document.getElementById('localidad').value,
  municipio: document.getElementById('municipio').value,
  estado: document.getElementById('estado').value,
  email: document.getElementById('email').value,
  grupo: document.getElementById('grupo').value,
  sucursal: document.getElementById('sucursal').value,
  salario: document.getElementById('salario').value,
  tipoContrato: document.getElementById('tipoContrato').value,
  regimen: document.getElementById('regimen').value,
  tipoJornada: document.getElementById('tipoJornada').value,
  banco: document.getElementById('banco').value,
  clabe: document.getElementById('clabe').value,
  periodicidadPago: document.getElementById('periodicidadPago').value,
  departamento: document.getElementById('departamento').value,
  puesto: document.getElementById('puesto').value
};


  if (usuarioEditando !== null) {
    usuarios[usuarioEditando] = nuevoUsuario;
  } else {
    usuarios.push(nuevoUsuario);
  }

  cerrarModal();
  mostrarUsuarios();
}

function mostrarUsuarios() {
  const tabla = document.querySelector('#tablaUsuarios tbody');
  tabla.innerHTML = '';

  usuarios.forEach((usuario, index) => {
    const fila = tabla.insertRow();

    fila.insertCell(0).innerText = usuario.id;
    fila.insertCell(1).innerText = usuario.nombre;
    fila.insertCell(2).innerText = usuario.contrasena; // Ocultar contraseña
    fila.insertCell(3).innerText = usuario.puesto;

    const acciones = fila.insertCell(4);
    acciones.innerHTML = `
      <button onclick="editarUsuario(${index})">Editar</button>
      <button onclick="eliminarUsuario(${index})">Eliminar</button>
    `;
  });
}
function editarUsuario(index) {
  usuarioEditando = index;
  const usuario = usuarios[index];

  Object.keys(usuario).forEach(key => {
    if (document.getElementById(key)) {
      document.getElementById(key).value = usuario[key];
    }
  });
  mostrarModal();
}
function eliminarUsuario(index) {
  usuarios.splice(index, 1);
  mostrarUsuarios();
}








</script>


</body>
</html>
